{"version":3,"sources":["assets/img/avatar.jpg","assets/svg/articles.svg","assets/svg/books.svg","assets/svg/membership.svg","serviceWorker.ts","store/article/types.ts","store/article/reducer.ts","utils/axios.ts","api/article.ts","store/article/action.ts","store/article/saga.ts","store/index.ts","pages/components/Header.tsx","pages/home/components/ListItem.tsx","pages/home/components/GitItem.tsx","pages/home/Home.tsx","pages/detail/Detail.tsx","pages/article/components/ArticleListItem.tsx","pages/article/Articles.tsx","pages/about/About.tsx","pages/components/Footer.tsx","pages/Routes.tsx","Main.tsx","index.tsx","configureStore.ts"],"names":["module","exports","Boolean","window","location","hostname","match","FETCH_REQUEST","FETCH_SUCCESS","FETCH_ERROR","SAVE_ARTICLE","initState","data","loading","error","undefined","savedData","articleReducer","state","action","type","payload","message","concat","Axios","defaults","withCredentials","transformRequest","Qs","stringify","baseURL","fetchArticles","page","limit","get","params","fetchArticle","id","md","fetchRequest","fetchError","getArticles","watchFetchRequest","saga","call","res","put","items","errorResult","Error","stack","takeEvery","all","fork","rootSaga","createRootReducer","history","combineReducers","article","router","connectRouter","articleSaga","Header","props","className","to","src","books","alt","membership","ListItem","avatar","createdAt","replace","_id","title","summary","aria-hidden","xlinkHref","commentCount","category","name","GitItem","Home","this","length","slice","map","item","key","Component","mapDispatch","connect","Detail","pathname","split","setState","push","Avatar","dangerouslySetInnerHTML","__html","content","ArticleListItem","viewCount","ArticlePage","About","Footer","href","Routes","path","component","Articles","from","Main","store","initialState","INITIAL_REDUX_STATE","createBrowserHistory","sagaMiddleware","createSagaMiddleware","createStore","compose","applyMiddleware","routerMiddleware","run","configureStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f62102ef.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.75814896.jpg\";","module.exports = __webpack_public_path__ + \"static/media/articles.d3813e85.svg\";","module.exports = __webpack_public_path__ + \"static/media/books.ee127b99.svg\";","module.exports = __webpack_public_path__ + \"static/media/membership.ddbc7eaf.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Action } from 'redux'\n\nexport interface Article {\n  readonly _id: string\n  readonly title:string\n  readonly content: string\n  readonly summary: string\n  readonly category: Category\n  readonly viewCount: number\n  readonly commentCount:number\n  readonly createdAt: string\n  readonly updatedAt: string\n  readonly prev?: {\n    _id: string\n    title:string\n  }\n  readonly next?: {\n  _id: string\n  title:string\n  }\n}\n\nexport interface Category {\n  readonly _id: string\n  readonly name: string\n  readonly articleCount: number\n  readonly createdAt: string\n  readonly updatedAt: string\n}\n\nexport interface ArticleState {\n  data: Article[]\n  loading: boolean\n  error?: any\n  savedData?:Article[]\n}\n\nexport const FETCH_REQUEST = 'FETCH_REQUEST'\nexport type FETCH_REQUEST = typeof FETCH_REQUEST\n\n\nexport const FETCH_SUCCESS = 'FETCH_SUCCESS'\nexport type FETCH_SUCCESS = typeof FETCH_SUCCESS\n\nexport const FETCH_ERROR = 'FETCH_ERROR'\nexport type FETCH_ERROR = typeof FETCH_ERROR\n\nexport const SAVE_ARTICLE = 'SAVE_ARTICLE'\nexport type SAVE_ARTICLE = typeof SAVE_ARTICLE\n\nexport interface fetchRequestAction extends Action {\n  type: FETCH_REQUEST\n  payload: {\n    page: number\n    limit:number\n  }\n}\n\nexport interface fetchSuccessAction extends Action {\n  type: FETCH_SUCCESS\n  payload: Article[]\n}\n\nexport interface fetchErrorAction extends Action {\n  type: FETCH_ERROR\n  message: string\n}\n\nexport interface saveArticleAction extends Action{\n  type: SAVE_ARTICLE\n  payload:Article\n}\n\nexport type ArticleAction = fetchRequestAction | fetchSuccessAction | fetchErrorAction |saveArticleAction\n\n","import { ArticleAction, ArticleState, FETCH_REQUEST, FETCH_SUCCESS, FETCH_ERROR, SAVE_ARTICLE } from './types'\nimport { Reducer } from 'redux';\n\n// 初始状态\nconst initState: ArticleState = {\n  data: [],\n  loading: false,\n  error: undefined,\n  savedData:[]\n} \n\nconst  articleReducer: Reducer<ArticleState, ArticleAction> = (state= initState, action) => {\n  switch (action.type) {\n    case FETCH_REQUEST:\n      // 发送请求,将 loading 状态设置为 true\n      return {...state,loading:true}\n    case FETCH_SUCCESS:\n      // 请求成功,将 loading 状态设置为 false,同时使用从服务器中返回的数据更新 state\n\n      return {...state,loading:false,data:action.payload}\n    case FETCH_ERROR:\n      // 请求失败,将 loading 状态设置为 false,同时把错误信息更新到 state 上\n      return { ...state, error: action.message, loading: false }\n    case SAVE_ARTICLE:\n      let data = state.savedData!.concat(action.payload)\n      return {...state,savedData:data}\n    default:\n     return state\n  }\n}\n\nexport default articleReducer","import Axios from 'axios'\n import Qs from 'qs'\nconst ENV = process.env.NODE_ENV\n\n// 开发环境使用本地后台搭建的服务器\nAxios.defaults.withCredentials = true\nAxios.defaults.transformRequest = (data = {}) => {\n  return Qs.stringify(data)\n}\nAxios.defaults.baseURL = ENV === 'development' ? 'http://0.0.0.0:2300' : ''\n\nexport default Axios\n","import Axios from '../utils/axios';\n\ninterface queryDataType {\n  page: number,\n  limit:number,\n}\n\n// 获取所有文章 page:当前请求数据在服务器中的页数 limit:每次发送请求一共请求多少数据\nexport const fetchArticles = ({page=1,limit=10}:queryDataType) => {\n  return Axios.get('/api/articles', {\n    params: {\n      page,limit\n    }\n  })\n}\n\nexport const fetchArticle = (id: string,md=true) => Axios.get(`/api/article/${id}`, {\n  params: {\n    md\n  }\n})","import { ArticleAction, FETCH_REQUEST, FETCH_SUCCESS, FETCH_ERROR,SAVE_ARTICLE,Article, fetchRequestAction } from './types'\n\n// 发送请求,向 reducer 传递正在发送请求这一消息,把 state设置为 true 改为 true\nexport function fetchRequest(action:fetchRequestAction): ArticleAction {\n  return {\n    type: FETCH_REQUEST,\n    payload:action.payload\n  }\n}\n\n// 请求成功,向 reducer 传递请求成功后返回的数据\nexport function fetchSuccess(data:any): ArticleAction {\n  return {\n    type: FETCH_SUCCESS,\n    payload: data\n  }\n}\n\n// 请求失败向 reducer 传递失败的错误信息\nexport function fetchError(message:string): ArticleAction {\n  return {\n    type: FETCH_ERROR,\n    message\n  }\n}\n\n\n// 每次请求对应的文章,把请求的结果存储到 redux 中,使下次查看同一篇文章时不需要再次获取数据\nexport function saveArticle(data: Article): ArticleAction {\n  return {\n    type: SAVE_ARTICLE,\n    payload:data\n  }\n}","import { call, all, fork, put, takeEvery } from 'redux-saga/effects'\nimport { FETCH_REQUEST, fetchRequestAction } from './types'\nimport { fetchArticles } from '../../api/article'\nimport { fetchError, fetchSuccess } from './action'\n\n\nfunction* getArticles(action:fetchRequestAction) {\n  try {\n    const { payload: { page, limit } } = action\n    const res = yield call(fetchArticles, { page, limit })\n    \n    res.error ? yield put(fetchError(res.error)) : yield put(fetchSuccess(res.data.data.items))\n  } catch (e) {\n    \n    let errorResult = e instanceof Error && e.stack ? e.stack : '不知名错误'\n    yield put(fetchError(errorResult))\n  }\n}\n\nfunction* watchFetchRequest() {\n  yield takeEvery(FETCH_REQUEST, getArticles)\n}\n\nexport default function* saga() {\n  yield all([fork(watchFetchRequest)])\n}\n","import { connectRouter,RouterState } from 'connected-react-router'\nimport { combineReducers } from 'redux'\nimport { History } from 'history'\nimport {all,fork} from 'redux-saga/effects'\n// 导入各个文件的 reducer saga,状态类型\nimport articleReducer from './article/reducer';\nimport articleSaga from './article/saga';\nimport {ArticleState} from './article/types'\nexport interface ApplicationState {\n  article: ArticleState\n  router: RouterState\n}\n\n// rootReducer 创建函数\nexport const createRootReducer = (history: History) =>\n  combineReducers({\n    article: articleReducer,\n    router: connectRouter(history)\n  })\n\n// 创建 rootSaga\nexport function* rootSaga() {\n  yield all([fork(articleSaga)])\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport article from '../../assets/svg/articles.svg'\nimport books from '../../assets/svg/books.svg'\nimport membership from '../../assets/svg/membership.svg'\n\n// import './index.scss'\nimport './index.scss'\n\ninterface IProps {\n  text?: string\n}\n\nconst Header: React.FC<IProps> = props => {\n  return (\n    <div className=\"header-wrapper\">\n      <h1 className=\"logo\">Feng`s Blog</h1>\n      <div className=\"header-content\">\n        <div className=\"header-content-nav\">\n          <ul className=\"header-content-nav-link\">\n            <li className=\"home\">\n              <NavLink to=\"/home\">\n                <div className=\"img\">\n                  <img src={books} alt=\"\" />\n                </div>\n\n                <div className=\"title\">HOME</div>\n\n                <div className=\"desc\"> all the news showing </div>\n              </NavLink>\n            </li>\n            <li className=\"article\">\n              <NavLink to=\"/article\">\n                <div className=\"img\">\n                  <img src={article} alt=\"\" />\n                </div>\n                <div className=\"title\"> ARTICLE</div>\n                <div className=\"desc\">Development & some thought</div>\n              </NavLink>\n            </li>\n            <li className=\"about\">\n              <NavLink to=\"/about\">\n                <div className=\"img\">\n                  <img src={membership} alt=\"\" />\n                </div>\n                <div className=\"title\">ABOUT</div>\n                <div className=\"desc\">knowing more about me</div>\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport avatar from '../../../assets/img/avatar.jpg'\nimport { Article } from '../../../store/article/types'\nimport { Link } from 'react-router-dom'\n\ninterface Props {\n  data: Article\n}\n\nconst ListItem: React.FC<Props> = ({ data }) => {\n  return (\n    <div className=\"article-list-item\">\n      <div className=\"article-header\">\n        <div className=\"article-header-img\">\n          <img src={avatar} alt=\"\" />\n        </div>\n        <span className=\"article-header-time\">{data.createdAt.replace(/[TZ]/gi, ' ').replace(/\\.\\d+/, '')}</span>\n      </div>\n      <div className=\"article-content\">\n        <Link to={`/detail/${data._id}`}>\n          <h2 className=\"article-content-title\">{data.title}</h2>\n        </Link>\n        <p className=\"article-content-summary\">{data.summary}</p>\n      </div>\n      <div className=\"article-info\">\n        <div className=\"comment\">\n          <svg className=\"icon\" aria-hidden=\"true\">\n            <use xlinkHref=\"#icon-message-detail\"></use>\n          </svg>\n          <div className=\"comment-count\">{data.commentCount}</div>\n        </div>\n        <div className=\"category\">\n          <svg className=\"icon\" aria-hidden=\"true\">\n            <use xlinkHref=\"#icon-category_find_icon\"></use>\n          </svg>\n          <div className=\"category-name\">{data.category.name}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ListItem\n","import React from 'react'\n\ninterface Props {}\n\nconst GitItem: React.FC<Props> = () => {\n  return <div className=\"git-list-item\">All things are difficult before they are easy.</div>\n}\n\nexport default GitItem\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { ApplicationState } from '../../store/index'\nimport { Article, FETCH_REQUEST } from '../../store/article/types'\nimport { fetchRequest } from '../../store/article/action'\nimport ListItem from './components/ListItem'\nimport GitItem from './components/GitItem'\nimport './index.scss'\n\ntype PropFromMap = {\n  data: Article[]\n  loading: boolean\n}\n\ntype PropFromDispatch = {\n  fetchRequest: typeof fetchRequest\n}\n\ntype IState = {\n  loading: boolean\n}\ntype ComponentProps = PropFromDispatch & RouteComponentProps & PropFromMap\nclass Home extends Component<ComponentProps, IState> {\n  constructor(props: ComponentProps) {\n    super(props)\n    this.state = {\n      loading: this.props.loading\n    }\n  }\n\n  async componentDidMount() {\n    await this.props.fetchRequest({\n      type: FETCH_REQUEST,\n      payload: {\n        page: 1,\n        limit: 20\n      }\n    })\n  }\n\n  render() {\n    if (!this.state.loading && this.props.data.length !== 0) {\n      return (\n        <div className=\"home-wrapper\">\n          <section className=\"introduction\">\n            <div className=\"introduction-wrapper\">\n              <p className=\"title\">HI,WELCOME TO MY BLOG</p>\n              <p>\n                MY,NAME IS <span className=\"name\">范剑峰</span>\n              </p>\n              <p>I'AM A beginner OF FRONT-END Developing</p>\n            </div>\n          </section>\n          <div className=\"article-list\">\n            {this.props.data.slice(0, 4).map(item => (\n              <ListItem data={item} key={item._id} />\n            ))}\n          </div>\n          <div className=\"git-list\">\n            <GitItem />\n            <div className=\"say\">\n              <div>STAY HUNGRY, STAY FOOLISH</div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return ''\n    }\n  }\n}\n\nconst mapState = ({ article }: ApplicationState) => {\n  return {\n    data: article.data,\n    loading: article.loading\n  }\n}\n\nconst mapDispatch = {\n  fetchRequest\n}\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Home)\n","import React, { Component } from 'react'\nimport Avatar from '../../assets/img/avatar.jpg'\nimport './index.scss'\nimport { Article } from '../../store/article/types'\nimport { connect } from 'react-redux'\nimport { fetchArticle } from '../../api/article'\nimport { RouteComponentProps } from 'react-router-dom'\n\ninterface IProps {}\n\ninterface IState {\n  data?: Article\n  loading: boolean\n}\n\ntype ComponentProps = IProps & RouteComponentProps\n\nclass Detail extends Component<ComponentProps, IState> {\n  constructor(props: ComponentProps) {\n    super(props)\n    this.state = {\n      data: undefined,\n      loading: true\n    }\n  }\n\n  async componentDidMount() {\n    // 从浏览器地址获取当前文章的 ID,根据 ID 向服务器请求对应的数据\n    let id = this.props.history.location.pathname.split('detail/')[1]\n    let res = await fetchArticle(id)\n    if (res.data.data !== null) {\n      this.setState({\n        loading: false,\n        data: res.data.data\n      })\n    } else {\n      this.setState({ loading: false })\n      this.props.history.push('/')\n    }\n  }\n\n  render() {\n    if (this.state.data) {\n      return (\n        <div className=\"detail-wrapper\">\n          <aside className=\"detail-author-info\">\n            <div className=\"avatar-wrapper\">\n              <img src={Avatar} alt=\"\" />\n            </div>\n            <h3> about me</h3>\n            <article>我是一个自学者,也是一个初学者,目标是成为一个专业的前端工程师</article>\n          </aside>\n          <section className=\"detail-content\">\n            <p className=\"detail-content-time\">{this.state.data.createdAt}</p>\n            <p className=\"category\">\n              <svg className=\"icon\" aria-hidden=\"true\">\n                <use xlinkHref=\"#icon-category_find_icon\"></use>\n              </svg>\n              <span className=\"category-name\">{this.state.data.category.name}</span>\n            </p>\n            <h2 className=\"detail-content-title\">{this.state.data.title}</h2>\n            <hr />\n            <div className=\"markdown-body\" dangerouslySetInnerHTML={{ __html: this.state.data.content }}></div>\n          </section>\n        </div>\n      )\n    } else {\n      return ''\n    }\n  }\n}\n\nexport default Detail\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Article } from '../../../store/article/types'\n\ninterface IProps {\n  data: Article\n}\n\nconst ArticleListItem: React.FC<IProps> = ({ data }) => {\n  return (\n    <section className=\"articles-list-item\">\n      <h2>{data.title}</h2>\n      <span>{data.createdAt.replace(/[tz]/gi, ' ').replace(/\\.\\d+/, '')}</span>\n      <p>{data.summary}</p>\n      <span>分类:{data.category.name}</span> <br />\n      <span>观看:{data.viewCount}</span>\n      <br />\n      <span>评论:{data.commentCount}</span>\n      <br />\n      <NavLink to=\"/home\">阅读更多</NavLink>\n    </section>\n  )\n}\n\nexport default ArticleListItem\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { ApplicationState } from '../../store/index'\nimport ArticleListItem from './components/ArticleListItem'\nimport { Article, FETCH_REQUEST } from '../../store/article/types'\nimport { fetchRequest } from '../../store/article/action'\nimport './index.scss'\n\ntype PropFromMap = {\n  data: Article[]\n  loading: boolean\n}\n\ninterface IState {\n  loading: boolean\n}\n\ntype PropFromDispatch = {\n  fetchRequest: typeof fetchRequest\n}\ntype ComponentProps = PropFromDispatch & RouteComponentProps & PropFromMap\nclass ArticlePage extends Component<ComponentProps, IState> {\n  constructor(props: ComponentProps) {\n    super(props)\n    this.state = {\n      loading: this.props.loading\n    }\n  }\n  async componentDidMount() {\n    const { data, loading } = this.props\n    if (!data || data.length === 0) {\n      this.setState({\n        loading\n      })\n      await this.props.fetchRequest({\n        type: FETCH_REQUEST,\n        payload: {\n          page: 1,\n          limit: 20\n        }\n      })\n      this.setState({\n        loading\n      })\n    }\n  }\n\n  render() {\n    const { loading } = this.state\n    const { data } = this.props\n    if (!loading && data.length !== 0) {\n      return (\n        <section className=\"articles-wrapper\">\n          {data.map(item => (\n            <ArticleListItem data={item} key={item._id} />\n          ))}\n        </section>\n      )\n    }\n    return <span>Loading</span>\n  }\n}\n\nconst mapState = ({ article }: ApplicationState) => {\n  return {\n    data: article.data,\n    loading: article.loading\n  }\n}\n\nconst mapDispatch = {\n  fetchRequest\n}\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(ArticlePage)\n","import React from 'react'\n\ninterface Props {\n  \n}\n\n const About: React.FC<Props> = () => {\n  return (\n    <div>\n      helloworld\n    </div>\n  )\n}\n\nexport default About","import React from 'react'\n\ninterface Props {}\n\nconst Footer: React.FC<Props> = () => {\n  return (\n    <div className=\"footer-wrapper\">\n      <a href=\"http://www.beian.miit.gov.cn/\">\n        <span>© 2019 眼前有条河 </span>{' '}\n        <span>\n          {' '}\n          <i></i> 粤ICP备19139935号\n        </span>\n      </a>\n    </div>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\n\nimport { History } from 'history'\n\nimport Header from './components/Header'\nimport Home from './home/Home'\nimport Detail from './detail/Detail'\nimport Articles from './article/Articles'\nimport About from './about/About'\nimport Footer from './components/Footer'\n\ninterface IProps {\n  history: History\n}\n\nconst Routes: React.FC<IProps> = ({ history }) => {\n  return (\n    <>\n      <Header />\n      <Switch>\n        <Route path=\"/home\" component={Home} />\n        <Route path=\"/detail/:id\" component={Detail} />\n        <Route path=\"/article\" component={Articles} />\n        <Route path=\"/about\" component={About} />\n        <Redirect from=\"/\" to=\"/home\" />\n      </Switch>\n      <Footer />\n    </>\n  )\n}\n\nexport default Routes\n","import React from 'react';\nimport {Store} from 'redux';\nimport { ApplicationState } from './store';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport {History} from 'history'\nimport Routes from './pages/Routes';\n\n// Main 组件需要传入的属性分别为由 redux 创建的 store,由浏览器历史 history\ninterface MainProps {\n  store: Store<ApplicationState>\n  history:History\n}\n\nconst Main: React.FC<MainProps> = ({ store, history }) => {\n  return (\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <Routes history={history}/>\n      </ConnectedRouter>\n   </Provider>\n  );\n}\n\nexport default Main;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createBrowserHistory } from 'history'\nimport * as serviceWorker from './serviceWorker'\nimport configureStore from './configureStore'\nimport Main from './Main'\nimport { History } from 'history'\n\nimport './index.scss';\n\nconst initialState = window.INITIAL_REDUX_STATE\n\n// tslint:disable-next-line\nconst history: History = createBrowserHistory()\nconst store = configureStore(history, initialState)\n\nReactDOM.render(<Main store={store} history={history} />, document.getElementById('root'))\nserviceWorker.unregister()\n","import { Store, createStore, applyMiddleware, compose } from 'redux'\nimport  createSagaMiddleware  from 'redux-saga'\n// 使用 使用 router-middle-ware 把浏览器 history 挂载到 redux 容器上\nimport { routerMiddleware } from 'connected-react-router'\n// 指明传递给 configureStore 的 history 参数为 History 类型\nimport { History } from 'history'\n// 导入状态接口,以及经过联合后的 reducers/sagas\nimport { createRootReducer, rootSaga,ApplicationState } from './store'\n\n\nexport default function configureStore(history: History,initialState: ApplicationState): Store<ApplicationState> {\n  // 创建saga 中间件\n  const sagaMiddleware = createSagaMiddleware()\n  // 使用 rootReducer/rootSaga,创建 store, 容器的初始状态(initialState)会在应用的入口传入\n  const store = createStore(\n    createRootReducer(history),\n    initialState,\n    compose(applyMiddleware(routerMiddleware(history), sagaMiddleware))\n  )\n  sagaMiddleware.run(rootSaga)\n  return store\n}\n"],"sourceRoot":""}